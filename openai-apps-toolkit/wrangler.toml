# ============================================
# Cloudflare Worker - OpenAI MCP Server
# ============================================

name = "openai-mcp-server"
main = "src/index.js"
compatibility_date = "2024-01-01"

# Habilita Workers AI (opcional - para processamento local)
[ai]
binding = "AI"

# Variáveis de ambiente (valores de exemplo - use secrets para produção)
[vars]
APP_NAME = "PIX Seguro"
APP_VERSION = "1.0.0"
ENVIRONMENT = "development"

# Configuração de produção
[env.production]
name = "openai-mcp-server-prod"
[env.production.vars]
ENVIRONMENT = "production"

# ============================================
# SECRETS (configurar via wrangler secret put)
# ============================================
# Execute os comandos abaixo para configurar secrets:
#
# wrangler secret put OPENAI_API_KEY
# wrangler secret put AGENT_ID
# wrangler secret put VERIFICATION_TOKEN
#
# Não commite secrets no código!
# ============================================

# Rotas customizadas (opcional)
# [routes]
# pattern = "mcp.seudominio.com/*"
# zone_name = "seudominio.com"

# KV Namespace para cache (opcional)
# [[kv_namespaces]]
# binding = "CACHE"
# id = "seu-kv-namespace-id"

# D1 Database para logs (opcional)
# [[d1_databases]]
# binding = "DB"
# database_name = "mcp-logs"
# database_id = "seu-d1-database-id"
